<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../../img/favicon.ico" />
    <title>Group - TerraME</title>
    <link rel="stylesheet" href="../../../css/theme.css" />
    <link rel="stylesheet" href="../../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Group";
        var mkdocs_page_input_path = "base/types/group.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../..">
          <img src="../../../img/terrameee.png" class="logo" alt="Logo"/>
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../..">TerraME: Multiparadigm Modeling Toolkit</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Base</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../">Index</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >Types</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../agent/">Agent</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../automaton/">Automaton</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../cell/">Cell</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../cellularSpace/">CellularSpace</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../chart/">Chart</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../choice/">Choice</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../clock/">Clock</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../dataFrame/">DataFrame</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../directory/">Directory</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../environment/">Environment</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../event/">Event</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../file/">File</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../flow/">Flow</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Group</a>
    <ul class="current">
    <li class="toctree-l3"><a class="reference internal" href="#arguments">Arguments</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#attributes">Attributes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#functions">Functions</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#add">add</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#arguments_1">Arguments</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#usage_1">Usage</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#clone">clone</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#usage_2">Usage</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#filter">filter</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#usage_3">Usage</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#randomize">randomize</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#usage_4">Usage</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#rebuild">rebuild</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#usage_5">Usage</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#sort">sort</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#usage_6">Usage</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_1">#</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#usage_7">Usage</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../internetSender/">InternetSender</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../jump/">Jump</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../log/">Log</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../mandatory/">Mandatory</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../map/">Map</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../model/">Model</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../neighborhood/">Neighborhood</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../profiler/">Profiler</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../random/">Random</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../socialNetwork/">SocialNetwork</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../society/">Society</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../state/">State</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../textScreen/">TextScreen</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../timer/">Timer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../trajectory/">Trajectory</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../unitTest/">UnitTest</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../visualTable/">VisualTable</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Functions</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../functions/errorHandling/">ErrorHandling</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../functions/os/">Os</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../functions/package/">Package</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../functions/utils/">Utils</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/">Examples</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../data/">Data</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../font/">Font</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../..">TerraME</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Base</li>
          <li class="breadcrumb-item">Types</li>
      <li class="breadcrumb-item active">Group</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="group-inherits-society">Group (inherits <a href="../society/">Society</a>)</h1>
<p>Type that defines an ordered selection over a <a href="../society/">Society</a>. It inherits Society; therefore it is possible to apply all functions of such type to a Group. For instance, calling <a href="../../functions/utils/#foreachagent">forEachAgent()</a> also traverses Groups.  </p>
<h3 id="arguments">Arguments</h3>
<ul>
<li><strong>build</strong>: A boolean value indicating whether the Group should be computed when created. The default value is true.</li>
<li><strong>greater</strong>: A function (<a href="../agent/">Agent</a>, Agent)-&gt;boolean to sort the Group. Such function must return true if the first Agent has priority over the second one. When using this argument, Group compares each pair of Agents to establish an execution order to be used by <a href="../../functions/utils/#foreachagent">forEachAgent()</a>. As default, the Group will not be ordered and so <a href="../../functions/utils/#foreachcell">forEachCell()</a> will run in the order the Agents were pushed into the Society. See <a href="../../functions/utils/#greaterbyattribute">greaterByAttribute()</a> for predefined options for this argument.</li>
<li><strong>random</strong>: A boolean value indicating that the Group must be shuffled. The Group will be shuffled every time one calls <a href="./#rebuild">rebuild()</a> or when the Group is an action of an <a href="../event/">Event</a>. This argument cannot be combined with argument greater.</li>
<li><strong>select</strong>: A function (Agent)-&gt;boolean indicating whether an Agent of the Society should belong to the Group. If this function returns anything but false or nil for a given Agent, it will be added to the Group. If this argument is missing, all Agents will be included in the Group.</li>
<li><strong>target</strong>: The Society over which the Group will take place.</li>
</ul>
<h3 id="attributes">Attributes</h3>
<p>Some attributes of Group have internal semantics. They can be used as <strong>read-only</strong> by the modeler.</p>
<ul>
<li><strong>agents</strong>: A vector with Agents of the Group.</li>
<li><strong>greater</strong>: The last function used to sort the Group.</li>
<li><strong>parent</strong>: The Society used by the Group (its target).</li>
<li><strong>select</strong>: The last function used to filter the Group.</li>
</ul>
<h3 id="usage">Usage</h3>
<div class="highlight"><pre><span></span><code>agent = Agent{
    age = Random{min = 10, max = 50, step = 1}
}

soc = Society{
    instance = agent,
    quantity = 20
}

group = Group{
    target = society,
    select = function(agent)
        return agent.age &gt; 20
    end
}

groupBySize = Group{
    target = society,
    greater = function(a1, a2)
        return a1.age &gt; a2.age
    end
}
</code></pre></div>
<hr />
<h2 id="functions">Functions</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="./#add">add</a></td>
<td>Add a new <a href="../agent/">Agent</a> to the Group.</td>
</tr>
<tr>
<td><a href="./#clone">clone</a></td>
<td>Return a copy of the Group.</td>
</tr>
<tr>
<td><a href="./#filter">filter</a></td>
<td>Apply the filter again over the <a href="../society/">Society</a> used as target for the Group.</td>
</tr>
<tr>
<td><a href="./#randomize">randomize</a></td>
<td>Randomize the <a href="../agent/">Agents</a> of the Group.</td>
</tr>
<tr>
<td><a href="./#rebuild">rebuild</a></td>
<td>Rebuild the Group.</td>
</tr>
<tr>
<td><a href="./#sort">sort</a></td>
<td>Sort the current <a href="../society/">Society</a> subset.</td>
</tr>
<tr>
<td><a href="./##">#</a></td>
<td>Return the number of <a href="../agent/">Agents</a> in the Group.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="add"><strong>add</strong></h2>
<p>Add a new <a href="../agent/">Agent</a> to the Group. It will be added to the end of the list of Agents.  </p>
<h3 id="arguments_1">Arguments</h3>
<ul>
<li><strong>#1</strong>: An Agent.</li>
</ul>
<h3 id="usage_1">Usage</h3>
<div class="highlight"><pre><span></span><code>agent = Agent{}
group = Group{}

group:add(agent)
</code></pre></div>
<hr />
<h2 id="clone"><strong>clone</strong></h2>
<p>Return a copy of the Group. It has the same parent, select, greater and <a href="../agent/">Agents</a>. Any change in the cloned Group will not affect the original one.  </p>
<h3 id="usage_2">Usage</h3>
<div class="highlight"><pre><span></span><code>agent = Agent{
    age = Random{min = 0, max = 50, step = 1}
}

soc = Society{
    instance = agent,
    quantity = 20
}

group = Group{
    target = soc,
    select = function(agent) return agent.age &lt; 10 end
}

group2 = group:clone()
print(#group)
print(#group2)
</code></pre></div>
<hr />
<h2 id="filter"><strong>filter</strong></h2>
<p>Apply the filter again over the <a href="../society/">Society</a> used as target for the Group. <a href="../agent/">Agents</a> that belong to the Society but do not belong to the Group are ignored. This way, this function creates a subset over the subset of the Society.  </p>
<h3 id="usage_3">Usage</h3>
<div class="highlight"><pre><span></span><code>agent = Agent{
    age = Random{min = 0, max = 50, step = 1},
    execute = function(self)
        self.age = self.age + 1
    end
}

soc = Society{
    instance = agent,
    quantity = 20
}

group = Group{target = soc, select = function(agent)
    return agent.age &gt;= 18
end}

group:execute()
group:filter()
</code></pre></div>
<hr />
<h2 id="randomize"><strong>randomize</strong></h2>
<p>Randomize the <a href="../agent/">Agents</a> of the Group. It will change the traversing order used by <a href="../../functions/utils/#foreachagent">forEachAgent()</a>.  </p>
<h3 id="usage_4">Usage</h3>
<div class="highlight"><pre><span></span><code>agent = Agent{
    age = Random{min = 0, max = 50, step = 1}
}

soc = Society{
    instance = agent,
    quantity = 20
}

group = Group{
    target = soc
}

group:randomize()
</code></pre></div>
<hr />
<h2 id="rebuild"><strong>rebuild</strong></h2>
<p>Rebuild the Group. It works as if the Group was declared again with the same arguments.  </p>
<h3 id="usage_5">Usage</h3>
<div class="highlight"><pre><span></span><code>agent = Agent{
    age = Random{min = 0, max = 50, step = 1}
}

soc = Society{
    instance = agent,
    quantity = 20
}

group = Group{
    target = soc,
    select = function(agent) return agent.age &lt; 10 end,
    greater = function(a1, a2) return a1.age &gt; a2.age end
}

forEachAgent(group, function(agent)
    agent.age = agent.age + 5
end)

group:rebuild()
</code></pre></div>
<hr />
<h2 id="sort"><strong>sort</strong></h2>
<p>Sort the current <a href="../society/">Society</a> subset. It updates the traversing order of the Group.  </p>
<h3 id="usage_6">Usage</h3>
<div class="highlight"><pre><span></span><code>agent = Agent{
    age = Random{min = 0, max = 50, step = 1},
    execute = function(self)
        self.age = self.age + Random{min = 0, max = 2}:sample()
    end
}

soc = Society{
    instance = agent,
    quantity = 20
}

group = Group{target = soc, greater = function(ag1, ag2)
    return ag1.age &gt; ag2.age
end}

group:execute()
group:sort()
</code></pre></div>
<hr />
<h2 id="_1"><strong>#</strong></h2>
<p>Return the number of <a href="../agent/">Agents</a> in the Group.  </p>
<h3 id="usage_7">Usage</h3>
<div class="highlight"><pre><span></span><code>agent = Agent{
    age = Random{min = 0, max = 50, step = 1}
}

soc = Society{
    instance = agent,
    quantity = 20
}

group = Group{
    target = soc,
    select = function(agent) return agent.age &lt; 10 end
}

print(#group)
</code></pre></div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../flow/" class="btn btn-neutral float-left" title="Flow"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../internetSender/" class="btn btn-neutral float-right" title="InternetSender">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy; 2024 TerraME</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../flow/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../internetSender/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../../..";</script>
    <script src="../../../js/theme_extra.js"></script>
    <script src="../../../js/theme.js"></script>
      <script src="../../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
